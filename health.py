
yoga_poses = {
    'Tittibhasana': {
        'description': [
            "Makes your wrist stronger",
            "Improves the strength of the arms",
            "Tightens and tones the belly",
            "Stretches your back torso, inner groins, and hamstrings",
            "Brings an overall sense of balance",
            "Improves core strength",
            "Good for your mind",
            "Improves digestion"
        ],
        'image_url': 'downloadt.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=xatM_sabgvI'
    },
    'Kapilasana': {
        'description': [
            "Helps in stretching legs, hamstrings, arms, chest, back, and shoulder muscles",
            "Strengthens the muscles by improving blood flow",
            "Helps in cultivating a calm and chaos-free mind",
            "Improves the meditative state",
            "Maintains the five chakras of muladhara, svadisthana, manipura, anahata, and visuddha",
            "Improves bodyâ€™s stability and coordination"
        ],
        'image_url': 'downloadk.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=G-5wnlQqBYI'
    },
    'Prasarita Padottanasana': {
        'description': [
            "Reduces depression and boosts confidence",
            "Rejuvenates the nervous system and electrifies the heart and lungs",
            "Harmonizes the abdominal muscles and relieves stress-induced headaches",
            "Reduces lower back pain through extensive stretching"
        ],
        'image_url': 'downloadpp.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=F7you4Sw1o0'
    },
    'Bhunamanasana': {
        'description': [
            "Stretches and improves flexibility of shoulders, spine, and lower back",
            "Strengthens lumbar and thoracic parts of the spine",
            "Corrects the alignment of the hip joints",
            "Improves conditions of a sluggish and fatty liver"
        ],
        'image_url': 'downloadb.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=V2NO_DnQQ1c'
    },
    'Uttana Shishosana': {
        'description': [
            "Increases elasticity of the hips and hamstring muscles",
            "Improves overall posture",
            "Activates and massages abdominal muscles",
            "Improves blood circulation and is considered a heart-opener"
        ],
        'image_url': 'downloadus.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=1ubhPtojR4w'
    },
    'Karandavasana': {
        'description': [
            "Strengthens shoulders, arms, neck, core, and hips",
            "Increases flexibility in hips, neck, shoulders, forearms, and knees",
            "Builds power and endurance for advanced poses",
            "Enhances focus and coordination"
        ],
        'image_url': 'downloadkd.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=UB-ybdSf7xI'
    },
    'Lolasana': {
        'description': [
            "Stretches and stimulates deeper tissues, tendons, and ligaments",
            "Beneficial for athletes as a warm-up and recovery",
            "Tones arms, abdomen, gluteus, chest, and thighs"
        ],
        'image_url': 'downloadl.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=_p6XXvNne1U'
    },
    'Gandha Bherundasana': {
        'description': [
            "Stretches and strengthens wrists, arms, neck, and back muscles",
            "Improves flexibility and range of motion in the neck",
            "Works on thyroid glands improving its functions",
            "Opens and expands the chest and diaphragm muscles"
        ],
        'image_url': 'downloadgb.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=I6wndOXL2JI'
    },
    'Trataka': {
        'description': [
            "Strengthens the muscles around the eyes",
            "Alleviates mild eye problems",
            "Improves sleep quality",
            "Calms the mind and increases concentration",
            "Improves mental and nervous stability"
        ],
        'image_url': 'downloadtk.jpeg',
        'yt_tutorial_link': 'https://www.youtube.com/watch?v=yp58DGsNUWE'
    }
}





















































































































































































































































































































































































































































health_conditions = {
    'Increases flexibility': 'trataka',
    'Strengthens muscles': 'gandha bherudasana',
    'Improves digestion': 'tittibhasana',
    'Improves balance': 'gandha bherudasana',
    'Promotes relaxation': 'gandha bherudasana',
    'Stretches body parts': 'trataka',
    'Improves posture': 'trataka',
    'Improves blood circulation': 'gandha bherudasana',
    'Activates chakras': 'trataka',
    'Increases strength': 'trataka',
    'Boosts confidence': 'karandavasana',
    'Stimulates nerves': 'trataka',
    'Tones muscles': 'trataka',
    'Improves lung capacity': 'trataka',
    'Increases oxygen intake': 'trataka',
    'Stimulates heart chakra': 'trataka',
    'Improves respiratory health': 'trataka',
    'Boosts immunity': 'trataka',
    'Promotes blood circulation': 'trataka',
    'Alleviates back pain': 'trataka',
    'Stimulates reproductive organs': 'trataka',
    'Relieves headaches': 'trataka',
    'Stimulates digestion': 'trataka',
    'Increases energy levels': 'gandha bherudasana',
    'Improves sleep quality': 'gandha bherudasana',
    'Reduces anxiety': 'gandha bherudasana',
    'Increases self-awareness': 'gandha bherudasana',
    'Promotes emotional healing': 'gandha bherudasana',
    'Promotes spiritual growth': 'gandha bherudasana',
    'Stimulates nervous system': 'gandha bherudasana',
    'Increases focus': 'gandha bherudasana',
    'Improves flexibility': 'kapilasana',
    'Enhances creativity': 'trataka',
    'Improves creativity': 'trataka',
    'Arm and Shoulder Strength': 'Lolasana',
    'Upper Body Strengthening': 'Lolasana',
    'Chest Strengthening': 'Lolasana',
    'strengthen oblique muscles': 'Lolasana',
    'relieve tensions in back, neck, shoulders': 'Lolasana',
    'engage core muscles': 'Lolasana',
    'strengthen arms, shoulders, wrists': 'Lolasana',
    'massage abdominal muscles for digestion': 'Lolasana',
    'reduce stress and insomnia': 'Lolasana',
    'improve body posture': 'Lolasana',
    'reduce symptoms related to PMS': 'Lolasana',
    'improve body awareness': 'Lolasana',
    'Deep stretch at the wrists': 'Lolasana',
    'Deep stretch at the abdomen': 'Lolasana',
    'Deep stretch at the spine': 'Lolasana',
    'Deep stretch at the knees': 'Lolasana',
    'Strengthening muscles for athletes': 'Lolasana',
    'Warm-up for athletes': 'Lolasana',
    'Recovery for athletes': 'Lolasana',
    'Toning of arms': 'Lolasana',
    'Toning of abdomen': 'Lolasana',
    'Toning of gluteus': 'Lolasana',
    'Toning of chest': 'Lolasana',
    'Toning of thighs': 'Lolasana',
    'Strengthening core muscles': 'Lolasana',
    'Abdominal muscle toning': 'Lolasana',
    'Strengthens abdominal muscles': 'trataka',
    'Improves concentration': 'trataka',
    'Increases concentration': 'trataka',
    'Improves mental focus': 'trataka',
    'Tones abdominal muscles': 'trataka',
    'PCOD': 'Lolasana',
    'Thyroid': 'Bhunamanasana',
    'Asthma': 'Bhunamanasana',
    'Sinus': 'Bhunamanasana',
    'Constipation': 'Lolasana',
    'Osteoporosis': 'prasarita padottasana',
    'Obesity': 'Lolasana'
}

'''
# List to keep track of already selected poses
selected_poses = []


def select_pose(selected_conditions):
    selected_poses
    best_pose = None
    max_matching_conditions = 0
    ties = []

    # Only consider poses that haven't been selected before
    available_poses = {pose: details for pose, details in yoga_poses.items() if pose not in selected_poses}

    # Evaluate each pose based on how many selected conditions it matches
    for pose in available_poses.keys():
        matching_conditions = len(set(selected_conditions) & set(health_conditions.get(pose, [])))
        if matching_conditions > max_matching_conditions:
            best_pose = pose
            max_matching_conditions = matching_conditions
            ties = [pose]  # reset ties list with the new best matching pose
        elif matching_conditions == max_matching_conditions:
            ties.append(pose)  # add this pose to ties if it matches the maximum conditions so far

    # Choose the first pose in the ties list if there are ties or if no specific best pose is identified
    if ties:
        best_pose = ties[0]
        selected_poses.append(best_pose)
    print(best_pose)
    return best_pose
'''
selected_poses = []

def select_pose(selected_conditions):
    top_poses = []
    max_matching_conditions = [0, 0, 0]  # Keep track of the top 3 matching conditions for each pose
    top_matching_poses = [[], [], []]  # Keep track of the top 3 poses for each matching condition count

    # Only consider poses that haven't been selected before
    available_poses = {pose: details for pose, details in yoga_poses.items() if pose not in selected_poses}

    # Evaluate each pose based on how many selected conditions it matches
    for pose in available_poses.keys():
        matching_conditions = len(set(selected_conditions) & set(health_conditions.get(pose, [])))

        # Update top_poses list if the current pose matches more conditions than any pose in the list
        for i in range(3):
            if matching_conditions > max_matching_conditions[i]:
                max_matching_conditions[i] = matching_conditions
                top_matching_poses[i] = [pose]
                break
            elif matching_conditions == max_matching_conditions[i]:
                top_matching_poses[i].append(pose)
                break

    # Flatten the list of top matching poses
    for poses in top_matching_poses:
        top_poses.extend(poses)

    # Select the top 3 poses
    selected_poses.extend(top_poses[:3])

    return top_poses[:3]


#health_conditions: {'Increases flexibility': 'trataka', 'Strengthens muscles': 'gandha bherudasana', 'Improves digestion': 'tittibhasana', 'Improves balance': 'gandha bherudasana', 'Promotes relaxation': 'gandha bherudasana', 'Stretches body parts': 'trataka', 'Improves posture': 'trataka', 'Improves blood circulation': 'gandha bherudasana', 'Activates chakras': 'trataka', 'Increases strength': 'trataka', 'Boosts confidence': 'karandavasana', 'Stimulates nerves': 'trataka', 'Tones muscles': 'trataka', 'Improves lung capacity': 'trataka', 'Increases oxygen intake': 'trataka', 'Stimulates heart chakra': 'trataka', 'Improves respiratory health': 'trataka', 'Boosts immunity': 'trataka', 'Promotes blood circulation': 'trataka', 'Alleviates back pain': 'trataka', 'Stimulates reproductive organs': 'trataka', 'Relieves headaches': 'trataka', 'Stimulates digestion': 'trataka', 'Increases energy levels': 'gandha bherudasana', 'Improves sleep quality': 'gandha bherudasana', 'Reduces anxiety': 'gandha bherudasana', 'Increases self-awareness': 'gandha bherudasana', 'Promotes emotional healing': 'gandha bherudasana', 'Promotes spiritual growth': 'gandha bherudasana', 'Stimulates nervous system': 'gandha bherudasana', 'Increases focus': 'gandha bherudasana', 'Improves flexibility': 'kapilasana', 'Enhances creativity': 'trataka', 'Improves creativity': 'trataka', 'Arm and Shoulder Strength': 'Lolasana', 'Upper Body Strengthening': 'Lolasana', 'Chest Strengthening': 'Lolasana', 'strengthen oblique muscles': 'Lolasana', 'relieve tensions in back, neck, shoulders': 'Lolasana', 'engage core muscles': 'Lolasana', 'strengthen arms, shoulders, wrists': 'Lolasana', 'massage abdominal muscles for digestion': 'Lolasana', 'reduce stress and insomnia': 'Lolasana', 'improve body posture': 'Lolasana', 'reduce symptoms related to PMS': 'Lolasana', 'improve body awareness': 'Lolasana', 'Deep stretch at the wrists': 'Lolasana', 'Deep stretch at the abdomen': 'Lolasana', 'Deep stretch at the spine': 'Lolasana', 'Deep stretch at the knees': 'Lolasana', 'Strengthening muscles for athletes': 'Lolasana', 'Warm-up for athletes': 'Lolasana', 'Recovery for athletes': 'Lolasana', 'Toning of arms': 'Lolasana', 'Toning of abdomen': 'Lolasana', 'Toning of gluteus': 'Lolasana', 'Toning of chest': 'Lolasana', 'Toning of thighs': 'Lolasana', 'Strengthening core muscles': 'Lolasana', 'Abdominal muscle toning': 'Lolasana', 'Strengthens abdominal muscles': 'trataka', 'Improves concentration': 'trataka', 'Increases concentration': 'trataka', 'Improves mental focus': 'trataka', 'Tones abdominal muscles': 'trataka'}


yoga_pose = {
    'tittibhasana': ['Increases flexibility', 'Strengthens muscles', 'Improves digestion', 'Improves balance', 'Promotes relaxation', 'Stretches body parts', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Stimulates digestion', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Obesity'],
    'kapilasana': ['Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Stretches body parts', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Improves flexibility', 'Enhances creativity', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Improves creativity', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Thyroid', 'Obesity'],
    'prasarita padottasana': ['Increases flexibility', 'Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Stretches body parts', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Stimulates digestion', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Thyroid', 'Sinus', 'Constipation', 'Osteoporosis'],
    'Kashyapawsana': ['Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Stretches body parts', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Enhances creativity', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Improves creativity', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Asthma', 'Sinus', 'PCOD'],
    'Bhunamanasana': ['Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Stretches body parts', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Enhances creativity', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Improves creativity', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Thyroid', 'Asthma', 'Constipation'],
    'uttana shishoasana': ['Increases flexibility', 'Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Asthma', 'Sinus'],
    'karandavasana': ['Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Boosts confidence', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Asthma', 'Sinus', 'Obesity'],
    'Lolasana': ['Arm and Shoulder Strength', 'Upper Body Strengthening', 'Chest Strengthening', 'Strengthen oblique muscles', 'Relieve tensions in back, neck, shoulders', 'Engage core muscles', 'Strengthen arms, shoulders, wrists', 'Massage abdominal muscles for digestion', 'Reduce stress and insomnia', 'Improve body posture', 'Reduce symptoms related to PMS', 'Improve body awareness', 'Deep stretch at the wrists', 'Deep stretch at the abdomen', 'Deep stretch at the spine', 'Deep stretch at the knees', 'Strengthening muscles for athletes', 'Warm-up for athletes', 'Recovery for athletes', 'Toning of arms', 'Toning of abdomen', 'Toning of gluteus', 'Toning of chest', 'Toning of thighs', 'Strengthening core muscles', 'Abdominal muscle toning', 'PCOD', 'Constipation', 'Obesity'],
    'gandha bherudasana': ['Strengthens muscles', 'Improves balance', 'Promotes relaxation', 'Improves posture', 'Improves blood circulation', 'Activates chakras', 'Increases strength', 'Stimulates nerves', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Increases energy levels', 'Improves sleep quality', 'Reduces anxiety', 'Increases self-awareness', 'Promotes emotional healing', 'Promotes spiritual growth', 'Stimulates nervous system', 'Increases focus', 'Sinus', 'Obesity'],
    'trataka': ['Increases flexibility', 'Strengthens abdominal muscles', 'Improves concentration', 'Stretches body parts', 'Improves posture', 'Activates chakras', 'Increases strength', 'Enhances creativity', 'Stimulates nerves', 'Increases concentration', 'Tones muscles', 'Improves lung capacity', 'Increases oxygen intake', 'Improves mental focus', 'Stimulates heart chakra', 'Improves respiratory health', 'Boosts immunity', 'Promotes blood circulation', 'Alleviates back pain', 'Stimulates reproductive organs', 'Relieves headaches', 'Improves creativity', 'Tones abdominal muscles', 'Stimulates digestion', 'Asthma', 'Sinus', 'Constipation', 'Obesity']
}

